<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A `Parser` that can be configured with runtime context. This allows for context-sensitive parsing of input. Note that chumsky only supports ‘left’-sensitive parsing, where the context for a parser is derived from earlier in the input."><title>ConfigParser in chumsky - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9bb858ba049f1f21.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="chumsky" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.0-nightly (f20afcc45 2023-07-04)" data-channel="nightly" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../chumsky/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../chumsky/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">ConfigParser</a></h2><div class="sidebar-elems"><section><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.configure">configure</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In chumsky</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">chumsky</a>::<wbr><a class="trait" href="#">ConfigParser</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/chumsky/lib.rs.html#2015-2062">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ConfigParser&lt;'a, I, O, E&gt;: ConfigParserSealed&lt;'a, I, O, E&gt;<span class="where fmt-newline">where
    I: <a class="trait" href="input/trait.Input.html" title="trait chumsky::input::Input">Input</a>&lt;'a&gt;,
    E: <a class="trait" href="extra/trait.ParserExtra.html" title="trait chumsky::extra::ParserExtra">ParserExtra</a>&lt;'a, I&gt;,</span>{
    // Provided method
    fn <a href="#method.configure" class="fn">configure</a>&lt;F&gt;(self, cfg: F) -&gt; <a class="struct" href="combinator/struct.Configure.html" title="struct chumsky::combinator::Configure">Configure</a>&lt;Self, F&gt;
       <span class="where">where Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,
             F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(Self::Config, &amp;E::<a class="associatedtype" href="extra/trait.ParserExtra.html#associatedtype.Context" title="type chumsky::extra::ParserExtra::Context">Context</a>) -&gt; Self::Config</span> { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A <a href="trait.Parser.html" title="trait chumsky::Parser"><code>Parser</code></a> that can be configured with runtime context. This allows for context-sensitive parsing
of input. Note that chumsky only supports ‘left’-sensitive parsing, where the context for a parser
is derived from earlier in the input.</p>
<p>Chumsky distinguishes ‘state’ from ‘context’. State is not able to change what input a parser
accepts, but may be used to change the contents of the type it emits. In this way state is expected
to be idempotent - combinators such as <a href="trait.Parser.html#method.map_with_state" title="method chumsky::Parser::map_with_state"><code>Parser::map_with_state</code></a> are allowed to not call the
provided closure at all if they don’t emit any output. Context and configuration, on the other hand,
is used to change what kind of input a parser may accept, and thus must always be evaluated. Context
isn’t usable in any map combinator however - while it may affect accepted input, it is not expected
to change the final result outside of how it changes what the parser itself returns.</p>
<p>Not all parsers currently support configuration. If you feel like you need a parser to be configurable
and it isn’t currently, please open an issue on the issue tracker of the main repository.</p>
</div></details><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.configure" class="method"><a class="srclink rightside" href="../src/chumsky/lib.rs.html#2055-2061">source</a><h4 class="code-header">fn <a href="#method.configure" class="fn">configure</a>&lt;F&gt;(self, cfg: F) -&gt; <a class="struct" href="combinator/struct.Configure.html" title="struct chumsky::combinator::Configure">Configure</a>&lt;Self, F&gt;<span class="where fmt-newline">where
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,
    F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(Self::Config, &amp;E::<a class="associatedtype" href="extra/trait.ParserExtra.html#associatedtype.Context" title="type chumsky::extra::ParserExtra::Context">Context</a>) -&gt; Self::Config,</span></h4></section></summary><div class="docblock"><p>A combinator that allows configuration of the parser from the current context. Context
is most often derived from <a href="trait.Parser.html#method.then_with_ctx" title="method chumsky::Parser::then_with_ctx"><code>Parser::then_with_ctx</code></a> or <a href="primitive/fn.map_ctx.html" title="fn chumsky::primitive::map_ctx"><code>map_ctx</code></a>, and is how chumsky
supports parsing things such as indentation-sensitive grammars.</p>
<h5 id="examples"><a href="#examples">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code>
<span class="kw">let </span>int = text::int::&lt;<span class="kw">_</span>, <span class="kw">_</span>, extra::Err&lt;Rich&lt;char&gt;&gt;&gt;(<span class="number">10</span>)
    .from_str()
    .unwrapped();

<span class="comment">// By default, accepts any number of items
</span><span class="kw">let </span>item = text::ident()
    .padded()
    .repeated();

<span class="comment">// With configuration, we can declare an exact number of items based on a prefix length
</span><span class="kw">let </span>len_prefixed_arr = int
    .then_with_ctx(item.configure(|repeat, ctx| repeat.exactly(<span class="kw-2">*</span>ctx)).collect::&lt;Vec&lt;<span class="kw">_</span>&gt;&gt;());

<span class="macro">assert_eq!</span>(
    len_prefixed_arr.parse(<span class="string">&quot;2 foo bar&quot;</span>).into_result(),
    <span class="prelude-val">Ok</span>(<span class="macro">vec!</span>[<span class="string">&quot;foo&quot;</span>, <span class="string">&quot;bar&quot;</span>]),
);

<span class="macro">assert_eq!</span>(
    len_prefixed_arr.parse(<span class="string">&quot;0&quot;</span>).into_result(),
    <span class="prelude-val">Ok</span>(<span class="macro">vec!</span>[]),
);

len_prefixed_arr.parse(<span class="string">&quot;3 foo bar baz bam&quot;</span>).into_result().unwrap_err();
len_prefixed_arr.parse(<span class="string">&quot;3 foo bar&quot;</span>).into_result().unwrap_err();</code></pre></div>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-ConfigParser%3C'a,+I,+O,+E%3E-for-P" class="impl"><a class="srclink rightside" href="../src/chumsky/blanket.rs.html#45-51">source</a><a href="#impl-ConfigParser%3C'a,+I,+O,+E%3E-for-P" class="anchor">§</a><h3 class="code-header">impl&lt;'a, I, O, E, P&gt; <a class="trait" href="trait.ConfigParser.html" title="trait chumsky::ConfigParser">ConfigParser</a>&lt;'a, I, O, E&gt; for P<span class="where fmt-newline">where
    I: <a class="trait" href="input/trait.Input.html" title="trait chumsky::input::Input">Input</a>&lt;'a&gt;,
    E: <a class="trait" href="extra/trait.ParserExtra.html" title="trait chumsky::extra::ParserExtra">ParserExtra</a>&lt;'a, I&gt;,
    P: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + ConfigParserSealed&lt;'a, I, O, E&gt;,</span></h3></section></div><script src="../implementors/chumsky/trait.ConfigParser.js" async></script></section></div></main></body></html>